<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>오늘 뭐 볼까? 오.까!</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</head>
<style>
    .container {
        margin-top: 2%;
    }
    img {
        height: 420px;
        position: relative;
    }
    #wat_logo {
      height: 168px;
      margin-top: 15%;
    }
    #btn_random {
      align-self: center;
      width:13em;
    }
    .card-deck {
        margin-top: 2%;
    }
    .card {
      width: 295px;
    }
    .card-body {
      height: 184px;

    }
    .checkBox{
      position:absolute;
      top: 10px;
      right: 10px;
    }
    .complete-img{
      position: absolute;
      width: 100%;
      height: 50%;
      top: 10%;
    }
    .mdl-dialog{
      width: 500px;
      height: 300px;
    }
    .input_review{
      text-align: center;
    }
</style>
<body>
    <!-- No header, and the drawer stays open on larger screens (fixed drawer). -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title"><a href="info.html"><img src="오까.png" alt="logo" id=wat_logo></a></span>
      <nav class="mdl-navigation">
        <button type="button" class="btn btn-outline-info" id="btn_random" data-toggle="modal" data-target="#exampleModalCenter">오늘은 이거다! 랜덤영화</button>
        <a class="mdl-navigation__link" href="action.html">액션</a>
        <a class="mdl-navigation__link" href="crime.html">범죄/스릴러</a>
        <a class="mdl-navigation__link" href="horror.html">공포</a>
        <a class="mdl-navigation__link" href="romance.html">로맨스/드라마</a>
        <a class="mdl-navigation__link" href="fantasy_sf.html">판타지/SF</a>
      </nav>
    </div>
    <main class="mdl-layout__content">
        <div class="page-content">
          <!-- Your content goes here -->
          <div class="container">
            <p style="font-size:25px;">공포영화</p>
        <hr>
        <div class="card-deck">
              <div class="card">
                <img src="horror/alien.jpg" class="card-img-top" alt="Alien">
                <div class="checkBox">
                    <input type="checkbox" value="chkMymovie">
                  </div>
                <div class="card-body">
                  <h5 class="card-title">에일리언</h5>
                  <p class="card-text">우주에서는 아무도 당신의 비명을 듣지 못한다.</p>
                  <p class="card-text"><small class="text-muted">1987년 / 리들리 스콧 감독</small></p>
                </div>
              </div>
              <div class="card">
                <img src="horror/cabin.jpg" class="card-img-top" alt="Cabin in the Woods">
                <div class="checkBox">
                    <input type="checkbox" value="chkMymovie">
                  </div>
                <div class="card-body">
                  <h5 class="card-title">캐빈 인더 우즈</h5>
                  <p class="card-text">뻔하지 않은 크리쳐 영화</p>
                  <p class="card-text"><small class="text-muted">2012년 / 드루 고더드 감독</small></p>
                </div>
              </div>
              <div class="card">
                <img src="horror/devil.jpg" class="card-img-top" alt="I Saw the Devil">
                <div class="checkBox">
                    <input type="checkbox" value="chkMymovie">
                  </div>
                <div class="card-body">
                  <h5 class="card-title">악마를 보았다</h5>
                  <p class="card-text">복수의 두 얼굴, 광기의 대결</p>
                  <p class="card-text"><small class="text-muted">2010년 / 김지운 감독</small></p>
                </div>
              </div>
            </div>
            <div class="card-deck">
                <div class="card">
                  <img src="horror/getout.jpg" class="card-img-top" alt="Get Out">
                  <div class="checkBox">
                      <input type="checkbox" value="chkMymovie">
                    </div>
                  <div class="card-body">
                    <h5 class="card-title">겟아웃</h5>
                    <p class="card-text">제목의 의미</p>
                    <p class="card-text"><small class="text-muted">2017년 / 조던 필 감독</small></p>
                  </div>
                </div>
                <div class="card">
                  <img src="horror/paranormal.jpg" class="card-img-top" alt="Paranormal Activity">
                  <div class="checkBox">
                      <input type="checkbox" value="chkMymovie">
                    </div>
                  <div class="card-body">
                    <h5 class="card-title">파라노말 액티비티</h5>
                    <p class="card-text">보고 나면 더 무서운 영화</p>
                    <p class="card-text"><small class="text-muted">2010년 / 오렌 펠리 감독</small></p>
                  </div>
                </div>
                <div class="card">
                  <img src="horror/shining.jpg" class="card-img-top" alt="Shining">
                  <div class="checkBox">
                      <input type="checkbox" value="chkMymovie">
                    </div>
                  <div class="card-body">
                    <h5 class="card-title">샤이닝</h5>
                    <p class="card-text">스릴러 영화의 바이블</p>
                    <p class="card-text"><small class="text-muted">1980년 / 스탠리 큐브릭 감독</small></p>
                  </div>
                </div>
              </div>
              <div class="card-deck">
                  <div class="card">
                    <img src="horror/sixth.png" class="card-img-top" alt="Sixth Sense">
                    <div class="checkBox">
                        <input type="checkbox" value="chkMymovie">
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">식스센스</h5>
                      <p class="card-text">영화 안 본 뇌 삽니다. 알고 봐도 재밌는 영화.</p>
                      <p class="card-text"><small class="text-muted">1999년 / M. 나이트 샤말란 감독</small></p>
                    </div>
                  </div>
                  <div class="card">
                    <img src="horror/the thing.jpg" class="card-img-top" alt="The Thing">
                    <div class="checkBox">
                        <input type="checkbox" value="chkMymovie">
                      </div>
                    <div class="card-body">
                      <h5 class="card-title">The Thing</h5>
                      <p class="card-text">알 수 없는 "무언가" 가 주는 공포</p>
                      <p class="card-text"><small class="text-muted">1982년 / 매티스 반 헤이닝겐 주니어 감독</small></p>
                    </div>
                  </div>
                  <div class="card">
                      <img src="horror/곡성.jpg" class="card-img-top" alt="곡성">
                      <div class="checkBox">
                        <input type="checkbox" value="chkMymovie">
                      </div>
                      <div class="card-body">
                        <h5 class="card-title">곡성</h5>
                        <p class="card-text">그 누구도 믿을 수 없고 믿어선 안 된다</p>
                        <p class="card-text"><small class="text-muted">2016년 / 나홍진 감독</small></p>
                      </div>
                    </div>

                  </div>
                </div>
            </div>
        </div>
        <dialog class="mdl-dialog">
            <button type="button" class="mdl-button close">닫기</button>
          <h4 class="mdl-dialog__title">Movie Review</h4>
          <div class="mdl-dialog__content">
            <p>
              영화 개노잼
            </p>
          </div>
          <div class="input_review">
            <textarea id="textarea" cols="50" rows="3"></textarea>
          </div>
          <div class="mdl-dialog__actions">
            <button type="button" id="btn_review" ass="mdl-button">리뷰남기기</button>
          </div>
        </dialog>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">랜덤 영화 추천</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>오늘은</p>
            <h2 id="random_title"></h2>
            <p>꼭 봐!</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="random_movie">랜덤 영화 뽑기</button>
          </div>
        </div>
      </div>
    </div>
  </div>
      
<script type="text/javascript">
  
  //check box format
  $('input:checkbox').change(
    function(){
        if ($(this).is(':checked')) {
          $(this).parent().siblings().css('opacity', '0.1');
          $(this).parent().parent().prepend('<img src="completed.png" class="complete-img">');
          var dialog = document.querySelector('dialog');
         var showDialogButton = document.querySelector('#show-dialog');
         if (! dialog.showModal) {
           dialogPolyfill.registerDialog(dialog);
         }
         dialog.showModal();
         dialog.querySelector('.close').addEventListener('click', function() {
           dialog.close();
         });
         var key = $(this).parent().siblings().find(".card-title").html();
          $('#btn_review').click(function() {
         var content = $("#textarea").val();
         var myReview = {};
         myReview[key] = content;
         var saveReview = JSON.stringify(myReview);
         localStorage.setItem(key, saveReview);
         $("#textarea").val("");
       });
        }
        else{
          $(this).parent().siblings().css('opacity', '1');
          $(this).parent().parent().find(".complete-img").remove();
        }
    });

//random list selector
  var p_list = ["action.html", "crime.html", "fantasy_sf.html", "horror.html", "romance.html"];
  var random_list=[];
  for (p=0; p<5; p++) {
  $.get(p_list[p], function(data) {
    var test = $(data);
    var m_title = test.find('.card-title');
    for (var i in m_title) {
      if(typeof(m_title[i].innerHTML) == "string") {
        random_list.push(m_title[i].innerHTML);
        
      }
    }
  })
  };
  $("#random_movie").click(function() {
    var n = Math.floor(Math.random()*random_list.length);
  $("#random_title").text(random_list[n]);
  });
</script>



  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>